var frontendApp=angular.module("sunysonApp",["ngRoute","frontendServices","frontendControllers","frontendDirectives"]);frontendApp.config(["$routeProvider",function(t){t.when("/",{templateUrl:"/app/views/main.html"}).when("/blog",{templateUrl:"/app/views/blog-list.html",controller:"blogListCtrl"}).when("/blog/:id",{templateUrl:"/app/views/blog-detail.html",controller:"blogDetailCtrl"}).when("/labs",{templateUrl:"/app/views/labs-list.html",controller:"labsListCtrl"}).when("/labs/:labsId",{templateUrl:"/app/views/labs-detail.html",controller:"labsListCtrl"})}]);var frontendControllers=angular.module("frontendControllers",[]);frontendControllers.run(["$rootScope","$http","Blog",function(t,e){e.get("/blog",{params:{counts:!0}}).success(function(e){t.blogCounts=e})}]),frontendControllers.controller("blogListCtrl",["$scope","Blog","$sce","$location",function(t,e,r,n){t.blogList=e.query({p:n.search().p}),t.totalCounts=t.blogCounts,t.perPage=3}]),frontendControllers.controller("blogDetailCtrl",["$scope","$routeParams","Blog","$sce",function(t,e,r,n){t.blog=r.get({id:e.id}),t.articleContent=function(){return n.trustAsHtml(t.blog.content)}}]),frontendControllers.controller("labsListCtrl",["$scope","Labs",function(t,e){t.labs=e.query()}]),frontendControllers.controller("labsDetailCtrl",["$scope","$routeParams","Labs",function(t,e,r){t.labs=r.get({labsId:e.labsId},function(e){t.labs=e})}]);var sunysonDirective=angular.module("frontendDirectives",[]);sunysonDirective.directive("pagination",["$location","$routeParams",function(t,e){return{restrict:"E",scope:!0,transclude:!0,templateUrl:"/app/views/paginator.html",replace:!0,link:function(r){r.totalPage=[],r.currentPage=e.p||1,r.prePage=parseInt(r.currentPage)-1,r.nextPage=parseInt(r.currentPage)+1;for(var n=1;n<r.totalCounts/r.perPage+1;n++)r.totalPage.push(n);r.hasNext=function(){return r.totalPage.length==r.currentPage?!0:!1},r.hasPre=function(){return 1==r.currentPage?!0:!1},r.url=t.path()+"?p="}}}]);var frontendServices=angular.module("frontendServices",["ngResource"]);frontendServices.factory("Blog",["$resource",function(t){return t("blog/:id",{},{})}]),frontendServices.factory("Labs",["$resource",function(t){return t("labs/:labsId",{},{})}]);